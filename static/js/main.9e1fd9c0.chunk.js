(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{31:function(e,t,n){e.exports=n(46)},43:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a,r=n(30),l=n(0),c=n.n(l),o=n(13),u=n.n(o),i=n(10),s=n(7),d=n(2),m=(n(40),n(15)),b=n(19),p=n.n(b),f=n(25),g=n(26),E=n.n(g),h=Object(i.b)("table/fetch",function(){var e=Object(f.a)(p.a.mark((function e(t,n){var a,r,l,c,o,u,i,s,d,m,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.requestId,l=n.signal,console.log("payload callback:"+t),c=a().table,o=c.loading,u=c.currentRequestId,"pending"!==o||u!==r){e.next=26;break}return e.prev=4,e.next=7,E()("https://api.randomuser.me/?nat=us&gender=female&results=".concat(t),{signal:l,method:"GET"});case 7:if(!((i=e.sent).ok||i.status>=200&&i.status<300)){e.next=18;break}return e.next=11,i.json();case 11:return s=e.sent,console.log(s),d=s.results,m=d.map((function(e){return{id:e.id.value,name:e.name.title+" "+e.name.first+" "+e.name.last,gender:e.gender,pic:e.picture.large}})),e.abrupt("return",m);case 18:throw(b=new Error(i.statusText)).response=i,b;case 21:e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(4),e.t0;case 26:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(i.c)({name:"table",initialState:{rows:[],loading:"idle",currentRequestId:void 0,error:null},reducers:{deleteRow:function(e,t){e.rows=e.rows.filter((function(e){return e.id!==t.payload}))}},extraReducers:(a={},Object(m.a)(a,h.pending,(function(e,t){e.loading="pending",e.currentRequestId=t.meta.requestId})),Object(m.a)(a,h.fulfilled,(function(e,t){var n=t.meta.requestId;console.log("fulfilled:"+n),"pending"===e.loading&&e.currentRequestId===n&&(e.loading="idle",e.currentRequestId=void 0,e.rows=e.rows.concat(t.payload))})),Object(m.a)(a,h.rejected,(function(e,t){t.payload?e.error=t.payload:e.error=t.error})),a)}),j=w.actions.deleteRow,v=w.reducer,O=n(8),k=n(11),y={deleteRow:j},x=Object(s.b)((function(e){return{rows:e.table.rows}}),y)((function(e){var t=e.rows,n=e.deleteRow,a=Object(O.g)();return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"id"),c.a.createElement("th",null,"name"),c.a.createElement("th",null,"gender"),c.a.createElement("th",null,"pic"),c.a.createElement("th",null,"action"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,c.a.createElement(k.b,{to:{pathname:"/test/".concat(e.id),state:{backgroud:a}}},e.id)),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.gender),c.a.createElement("td",null,c.a.createElement("img",{src:e.pic,alt:""})),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return n(e.id)}},"delete")))}))))})),I={fetch:h},R=Object(s.b)(null,I)((function(e){var t=e.fetch;return c.a.createElement("button",{onClick:function(){t(1)}},"fetch")})),q=(n(43),n(22)),C=n(28),B=n.n(C),J=n(29),S=function(){var e=Object(O.f)(),t=Object(O.h)().id,n=Object(s.c)((function(e){return e.table.rows})).find((function(e){return e.id===t}));if(!n)return null;return c.a.createElement("div",{onClick:function(t){t.stopPropagation(),e.goBack()},style:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"rgba(0, 0, 0, 0.15)"}},c.a.createElement("div",{className:"modal",style:{position:"absolute",background:"#fff",top:"10%",left:"10%",right:"10%",padding:15,border:"2px solid #444"}},c.a.createElement("h1",null,c.a.createElement("span",null,n.id,"/"),c.a.createElement("span",null,n.name,"/"),c.a.createElement("span",null,n.gender)),c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},c.a.createElement("img",{style:{width:"100%",height:"auto"},src:n.pic,alt:""}))))},T=Object(d.c)({table:v});var G={key:"root",storage:B.a},N=Object(q.a)(G,T),P=Object(i.a)({reducer:N,middleware:[].concat(Object(r.a)(Object(i.d)()),[])}),z=Object(q.b)(P);u.a.render(c.a.createElement(s.a,{store:P},c.a.createElement(J.a,{loading:null,persistor:z},c.a.createElement(k.a,null,c.a.createElement((function(){var e=Object(O.g)(),t=e.state&&e.state.backgroud;return c.a.createElement("div",null,c.a.createElement(O.c,{location:t||e},c.a.createElement(O.a,{path:"/test"},c.a.createElement(x,null),c.a.createElement(R,null))),t&&c.a.createElement(O.a,{path:"/test/:id"},c.a.createElement(S,null)))}),null)))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.9e1fd9c0.chunk.js.map